{"version":3,"sources":["webpack:///./src/views/main/system/role/role.vue?4e48","webpack:///./src/views/main/system/role/role.vue?ad09","webpack:///./src/views/main/system/role/config/search.config.ts","webpack:///./src/views/main/system/role/config/content.config.ts","webpack:///./src/views/main/system/role/config/modal.config.ts","webpack:///./src/views/main/system/role/role.vue","webpack:///./src/views/main/system/role/role.vue?c2f5"],"names":["_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_page_search","_component_page_content","_component_el_tree","_component_page_modal","searchFormConfig","onResetBtnClick","handleResetClick","onQueryBtnClick","handleQueryClick","ref","pageName","headerBtnText","contentTableConfig","onNewBtnClick","handleNewDate","onEditBtnClick","handleEditDate","defaultInfo","otherInfo","modalFormConfig","default","data","entirMenu","props","label","children","onCheck","handleCheckChange","_","formItems","field","type","placeholder","otherOptions","startPlaceholder","endPlaceholder","labelWidth","itemStyle","padding","propList","prop","minWidth","slotName","showIndexColumn","showSelectColumn","title","colLayout","span","name","components","PageSearch","PageContent","PageModal","setup","store","elTreeRef","state","value1","value2","checkedKeys","halfCheckedKeys","menuList","value","defaultCheckedKeys","editCallback","item","leafKeys","setCheckedKeys","newCallback","pageContentRef","pageModalRef","__exports__"],"mappings":"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","file":"js/chunk-68a9b587.c6ba5910.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./role.vue?vue&type=style&index=0&id=16255544&scoped=true&lang=less\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-16255544\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"role\" }\nconst _hoisted_2 = { class: \"menu-list\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_page_search = _resolveComponent(\"page-search\")!\n  const _component_page_content = _resolveComponent(\"page-content\")!\n  const _component_el_tree = _resolveComponent(\"el-tree\")!\n  const _component_page_modal = _resolveComponent(\"page-modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_page_search, {\n      searchFormConfig: _ctx.searchFormConfig,\n      onResetBtnClick: _ctx.handleResetClick,\n      onQueryBtnClick: _ctx.handleQueryClick\n    }, null, 8, [\"searchFormConfig\", \"onResetBtnClick\", \"onQueryBtnClick\"]),\n    _createVNode(_component_page_content, {\n      ref: \"pageContentRef\",\n      pageName: \"role\",\n      headerBtnText: \"新建角色\",\n      contentTableConfig: _ctx.contentTableConfig,\n      onNewBtnClick: _ctx.handleNewDate,\n      onEditBtnClick: _ctx.handleEditDate\n    }, null, 8, [\"contentTableConfig\", \"onNewBtnClick\", \"onEditBtnClick\"]),\n    _createVNode(_component_page_modal, {\n      ref: \"pageModalRef\",\n      pageName: \"role\",\n      defaultInfo: _ctx.defaultInfo,\n      otherInfo: _ctx.otherInfo,\n      modalFormConfig: _ctx.modalFormConfig\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_el_tree, {\n            ref: \"elTreeRef\",\n            data: _ctx.entirMenu,\n            \"show-checkbox\": \"\",\n            \"node-key\": \"id\",\n            props: {\n            label: 'name',\n            children: 'children'\n          },\n            onCheck: _ctx.handleCheckChange\n          }, null, 8, [\"data\", \"onCheck\"])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"defaultInfo\", \"otherInfo\", \"modalFormConfig\"])\n  ]))\n}","import { IForm } from \"@/base-ui/form\"\n\nexport const searchFormConfig: IForm = {\n  formItems: [\n    {\n      field: \"name\",\n      type: \"input\",\n      label: \"角色名称\",\n      placeholder: \"请输入角色名称\"\n    },\n    {\n      field: \"intor\",\n      type: \"input\",\n      label: \"权限介绍\",\n      placeholder: \"请输入权限介绍\"\n    },\n    {\n      field: \"createAt\",\n      type: \"datepicker\",\n      label: \"创建时间\",\n      placeholder: \"请选择创建时间范围\",\n      otherOptions: {\n        startPlaceholder: \"开始时间\",\n        endPlaceholder: \"结束时间\",\n        type: \"daterange\"\n      }\n    }\n  ],\n  labelWidth: \"120px\",\n  itemStyle: {\n    padding: \"10px 40px\"\n  }\n  // colLayout: { span: 8 }\n}\n","export const contentTableConfig = {\n  propList: [\n    { prop: \"name\", label: \"角色名\", minWidth: \"100\" },\n    { prop: \"intro\", label: \"权限介绍\", minWidth: \"100\" },\n    {\n      prop: \"createAt\",\n      label: \"更新时间\",\n      minWidth: \"250\",\n      slotName: \"createAt\"\n    },\n    {\n      prop: \"updateAt\",\n      label: \"更新时间\",\n      minWidth: \"250\",\n      slotName: \"updateAt\"\n    },\n    { label: \"操作\", minWidth: \"120\", slotName: \"handle\" }\n  ],\n  showIndexColumn: true,\n  showSelectColumn: true,\n  title: \"角色列表\"\n}\n","import { IForm } from \"@/base-ui/form\"\n\nexport const modalFormConfig: IForm = {\n  formItems: [\n    {\n      field: \"name\",\n      type: \"input\",\n      label: \"角色名\",\n      placeholder: \"请输入角色名\"\n    },\n    {\n      field: \"intro\",\n      type: \"input\",\n      label: \"角色介绍\",\n      placeholder: \"请输入角色介绍\"\n    }\n    // ,\n    // {\n    //   field: \"menuList\",\n    //   type: \"select\",\n    //   label: \"选择权限\",\n    //   placeholder: \"选择权限\",\n    //   options: []\n    // }\n  ],\n  labelWidth: \"70px\",\n  itemStyle: {\n    padding: \"5px 40px\"\n  },\n  colLayout: { span: 24 }\n}\n","\nimport { defineComponent, computed, ref, nextTick } from \"vue\"\nimport { useStore } from \"@/store\"\n\nimport PageSearch from \"@/components/page-search\"\nimport PageContent from \"@/components/page-content\"\nimport PageModal from \"@/components/page-modal\"\nimport { ElTree } from \"element-plus\"\n\nimport { searchFormConfig } from \"./config/search.config\"\nimport { contentTableConfig } from \"./config/content.config\"\nimport { modalFormConfig } from \"./config/modal.config\"\n\nimport { usePageSearch } from \"@/hooks/use-page-search\"\nimport { usePageModal } from \"@/hooks/use-page-modal\"\n\nimport { menuMapLeafKeys } from \"@/utils/map-menus\"\n\nexport default defineComponent({\n  name: \"role\",\n  components: {\n    PageSearch,\n    PageContent,\n    PageModal\n  },\n  setup() {\n    const store = useStore()\n    const elTreeRef = ref<InstanceType<typeof ElTree>>()\n\n    const entirMenu = computed(() => {\n      return store.state.entirMenu\n    })\n\n    const otherInfo = ref({})\n    const handleCheckChange = (value1: any, value2: any) => {\n      // 选中\n      const checkedKeys = value2.checkedKeys\n      // 半选中\n      const halfCheckedKeys = value2.halfCheckedKeys\n      const menuList = [...checkedKeys, ...halfCheckedKeys]\n      otherInfo.value = { menuList }\n    }\n\n    const defaultCheckedKeys = ref<any>([])\n    const editCallback = (item: any) => {\n      const leafKeys = menuMapLeafKeys(item.menuList)\n      nextTick(() => {\n        elTreeRef.value?.setCheckedKeys(leafKeys, false)\n      })\n    }\n    const newCallback = () => {\n      // defaultCheckedKeys.value = []\n    }\n\n    const [pageContentRef, handleResetClick, handleQueryClick] = usePageSearch()\n    const [pageModalRef, defaultInfo, handleNewDate, handleEditDate] =\n      usePageModal(newCallback, editCallback)\n\n    return {\n      pageContentRef,\n      pageModalRef,\n      elTreeRef,\n      contentTableConfig,\n      searchFormConfig,\n      modalFormConfig,\n      defaultInfo,\n      entirMenu,\n      otherInfo,\n      handleCheckChange,\n      handleResetClick,\n      handleQueryClick,\n      handleNewDate,\n      handleEditDate,\n      defaultCheckedKeys\n    }\n  }\n})\n","import { render } from \"./role.vue?vue&type=template&id=16255544&scoped=true&ts=true\"\nimport script from \"./role.vue?vue&type=script&lang=ts\"\nexport * from \"./role.vue?vue&type=script&lang=ts\"\n\nimport \"./role.vue?vue&type=style&index=0&id=16255544&scoped=true&lang=less\"\n\nimport exportComponent from \"D:\\\\codeData\\\\vue3\\\\code\\\\my-vue3-ts-cms-again\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16255544\"]])\n\nexport default __exports__"],"sourceRoot":""}